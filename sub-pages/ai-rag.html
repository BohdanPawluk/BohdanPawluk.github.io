<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RAG - Retrieval Augmented Generation Mind Map</title>
    <base href="/php-mailer/">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 1200px;
            width: 100%;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 40px;
            font-size: 2.5em;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 3px solid #eee;
        }

        .tab-button {
            padding: 12px 30px;
            background: none;
            border: none;
            font-size: 1.1em;
            cursor: pointer;
            color: #999;
            border-bottom: 4px solid transparent;
            transition: all 0.3s;
            font-weight: 600;
        }

        .tab-button.active {
            color: #667eea;
            border-bottom-color: #667eea;
        }

        .tab-button:hover {
            color: #667eea;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .mindmap {
            display: flex;
            justify-content: space-around;
            align-items: flex-start;
            flex-wrap: wrap;
            gap: 40px;
        }

        .center-node {
            flex: 0 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .center-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 40px;
            border-radius: 15px;
            font-size: 1.3em;
            font-weight: bold;
            text-align: center;
            min-width: 180px;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
            position: relative;
            z-index: 10;
        }

        .branches {
            flex: 1;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            align-content: start;
            min-width: 400px;
        }

        .branch {
            background: #f8f9ff;
            border-left: 5px solid #667eea;
            padding: 20px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .branch:hover {
            transform: translateX(10px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
            border-left-color: #764ba2;
        }

        .branch-title {
            font-weight: bold;
            color: #667eea;
            font-size: 1.1em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .branch-icon {
            font-size: 1.3em;
        }

        .branch-items {
            list-style: none;
            padding-left: 10px;
        }

        .branch-items li {
            color: #555;
            margin: 8px 0;
            padding-left: 20px;
            position: relative;
            font-size: 0.95em;
        }

        .branch-items li:before {
            content: "‚Üí";
            position: absolute;
            left: 0;
            color: #764ba2;
            font-weight: bold;
        }

        .definition {
            background: #fff3e0;
            border: 2px solid #ffa726;
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
            grid-column: 1 / -1;
        }

        .definition h3 {
            color: #e65100;
            margin-bottom: 10px;
        }

        .definition p {
            color: #666;
            line-height: 1.6;
        }

        /* Schematic Styles */
        .schematic-container {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 40px 20px;
            background: linear-gradient(to bottom, #f5f5f5, #fff);
            border-radius: 10px;
        }

        .schematic-svg {
            width: 100%;
            max-width: 1000px;
            filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.1));
        }

        @media (max-width: 768px) {
            .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 3px solid #eee;
        }

        .tab-button {
            padding: 12px 30px;
            background: none;
            border: none;
            font-size: 0.5em;
            cursor: pointer;
            color: #999;
            border-bottom: 4px solid transparent;
            transition: all 0.3s;
            font-weight: 600;
        }

        .tab-button.active {
            color: #667eea;
            border-bottom-color: #667eea;
        }

        .tab-button:hover {
            color: #667eea;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .mindmap {
                flex-direction: column;
                align-items: center;
            }

            .branches {
                grid-template-columns: 1fr;
                min-width: 100%;
            }

            h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß† RAG Mind Map & Schematic</h1>
        
        <div class="tabs">
            <button class="tab-button active" onclick="showTab('mindmap-tab')">üìä Mind Map</button>
            <button class="tab-button" onclick="showTab('schematic-tab')">üìê Schematic</button>
            <button class="tab-button" onclick="showTab('component-tab')">üß© Block/Component</button>
            <button class="tab-button" onclick="showTab('sequence-diagram-tab')">üîÑ Sequence Diagram</button>
            <button class="tab-button" onclick="showTab('data-flow-tab')">üìä Data Flow (DFD)</button>
            <button class="tab-button" onclick="showTab('architecture-tab')">üèóÔ∏è Architecture</button>
        </div>

        <!-- Mind Map Tab -->
        <div id="mindmap-tab" class="tab-content active">
        <div class="mindmap">
            <div class="center-node">
                <div class="center-box">RAG<br><small style="font-size: 0.7em;">Retrieval Augmented Generation</small></div>
            </div>

            <div class="branches">
                <!-- Core Components -->
                <div class="branch">
                    <div class="branch-title">
                        <span class="branch-icon">‚öôÔ∏è</span> Core Components
                    </div>
                    <ul class="branch-items">
                        <li>Retrieval Engine</li>
                        <li>Knowledge Base</li>
                        <li>Language Model (LLM)</li>
                        <li>Ranking System</li>
                    </ul>
                </div>

                <!-- Retrieval Process -->
                <div class="branch">
                    <div class="branch-title">
                        <span class="branch-icon">üîç</span> Retrieval Process
                    </div>
                    <ul class="branch-items">
                        <li>Query Processing</li>
                        <li>Document Search</li>
                        <li>Relevance Ranking</li>
                        <li>Context Selection</li>
                    </ul>
                </div>

                <!-- Generation Process -->
                <div class="branch">
                    <div class="branch-title">
                        <span class="branch-icon">‚úçÔ∏è</span> Generation Process
                    </div>
                    <ul class="branch-items">
                        <li>Input Combination</li>
                        <li>Context Integration</li>
                        <li>Response Creation</li>
                        <li>Output Formatting</li>
                    </ul>
                </div>

                <!-- Key Advantages -->
                <div class="branch">
                    <div class="branch-title">
                        <span class="branch-icon">‚≠ê</span> Key Advantages
                    </div>
                    <ul class="branch-items">
                        <li>Higher Accuracy</li>
                        <li>Reduced Hallucinations</li>
                        <li>Source Attribution</li>
                        <li>Current Information</li>
                    </ul>
                </div>

                <!-- Use Cases -->
                <div class="branch">
                    <div class="branch-title">
                        <span class="branch-icon">üíº</span> Use Cases
                    </div>
                    <ul class="branch-items">
                        <li>Customer Support</li>
                        <li>Research Assistance</li>
                        <li>Enterprise Q&A</li>
                        <li>Domain Experts</li>
                    </ul>
                </div>

                <!-- Challenges -->
                <div class="branch">
                    <div class="branch-title">
                        <span class="branch-icon">‚ö†Ô∏è</span> Challenges
                    </div>
                    <ul class="branch-items">
                        <li>Data Quality</li>
                        <li>Latency</li>
                        <li>Relevance Ranking</li>
                        <li>Scalability</li>
                    </ul>
                </div>

                <!-- Definition -->
                <div class="definition">
                    <h3>üìñ What is RAG?</h3>
                    <p>Retrieval Augmented Generation is an AI architecture that combines information retrieval with generative AI models. It retrieves relevant documents or data from a knowledge base to provide context, which the LLM then uses to generate accurate, sourced responses. This approach improves accuracy and reduces hallucinations compared to standalone language models.</p>
                </div>
            </div>
        </div>
        </div>

        <!-- Schematic Tab -->
        <div id="schematic-tab" class="tab-content">
            <div class="schematic-container">
                <svg class="schematic-svg" viewBox="0 0 1200 600" xmlns="http://www.w3.org/2000/svg">
                    <!-- Define gradient and markers -->
                    <defs>
                        <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                        </linearGradient>
                        <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#667eea" />
                        </marker>
                    </defs>

                    <!-- Title -->
                    <text x="600" y="35" font-size="26" font-weight="bold" text-anchor="middle" fill="#333">RAG Process Flow</text>

                    <!-- Step 1: User Query -->
                    <rect x="30" y="80" width="140" height="80" fill="#e3f2fd" stroke="#667eea" stroke-width="2" rx="8"/>
                    <text x="100" y="112" font-size="14" font-weight="bold" text-anchor="middle" fill="#1976d2">üë§ User Query</text>
                    <text x="100" y="145" font-size="11" text-anchor="middle" fill="#555">Enter question</text>

                    <!-- Arrow 1 -->
                    <line x1="170" y1="120" x2="220" y2="120" stroke="#667eea" stroke-width="3" marker-end="url(#arrowhead)"/>

                    <!-- Step 2: Retrieval Engine -->
                    <rect x="220" y="80" width="140" height="80" fill="#f3e5f5" stroke="#764ba2" stroke-width="2" rx="8"/>
                    <text x="290" y="112" font-size="14" font-weight="bold" text-anchor="middle" fill="#6a1b9a">üîç Retrieval</text>
                    <text x="290" y="145" font-size="11" text-anchor="middle" fill="#555">Search documents</text>

                    <!-- Knowledge Base (Side) -->
                    <rect x="480" y="300" width="140" height="80" fill="#fff3e0" stroke="#f57c00" stroke-width="2" rx="8"/>
                    <text x="550" y="332" font-size="14" font-weight="bold" text-anchor="middle" fill="#e65100">üìö Knowledge Base</text>
                    <text x="550" y="365" font-size="11" text-anchor="middle" fill="#555">Documents & Data</text>

                    <!-- Connection to Knowledge Base -->
                    <line x1="290" y1="160" x2="290" y2="230" stroke="#f57c00" stroke-width="2" stroke-dasharray="5,5"/>
                    <line x1="290" y1="230" x2="550" y2="230" stroke="#f57c00" stroke-width="2" stroke-dasharray="5,5"/>
                    <line x1="550" y1="230" x2="550" y2="300" stroke="#f57c00" stroke-width="2" stroke-dasharray="5,5"/>

                    <!-- Return from Knowledge Base -->
                    <line x1="550" y1="300" x2="550" y2="270" stroke="#f57c00" stroke-width="2" stroke-dasharray="5,5"/>
                    <line x1="550" y1="270" x2="410" y2="270" stroke="#f57c00" stroke-width="2" stroke-dasharray="5,5"/>
                    <line x1="410" y1="270" x2="410" y2="160" stroke="#f57c00" stroke-width="2" stroke-dasharray="5,5"/>

                    <!-- Arrow 2 -->
                    <line x1="360" y1="120" x2="410" y2="120" stroke="#667eea" stroke-width="3" marker-end="url(#arrowhead)"/>

                    <!-- Step 3: Ranking Filter -->
                    <rect x="410" y="80" width="140" height="80" fill="#e8f5e9" stroke="#388e3c" stroke-width="2" rx="8"/>
                    <text x="480" y="112" font-size="14" font-weight="bold" text-anchor="middle" fill="#1b5e20">‚≠ê Ranking</text>
                    <text x="480" y="145" font-size="11" text-anchor="middle" fill="#555">Filter relevance</text>

                    <!-- Arrow 3 -->
                    <line x1="550" y1="120" x2="600" y2="120" stroke="#667eea" stroke-width="3" marker-end="url(#arrowhead)"/>

                    <!-- Step 4: LLM Processing -->
                    <rect x="600" y="80" width="140" height="80" fill="#fce4ec" stroke="#c2185b" stroke-width="2" rx="8"/>
                    <text x="670" y="112" font-size="14" font-weight="bold" text-anchor="middle" fill="#880e4f">ü§ñ LLM</text>
                    <text x="670" y="145" font-size="11" text-anchor="middle" fill="#555">Generate answer</text>

                    <!-- Arrow 4 -->
                    <line x1="740" y1="120" x2="790" y2="120" stroke="#667eea" stroke-width="3" marker-end="url(#arrowhead)"/>

                    <!-- Step 5: Output with Sources -->
                    <rect x="790" y="80" width="160" height="80" fill="url(#grad1)" rx="8"/>
                    <text x="870" y="112" font-size="14" font-weight="bold" text-anchor="middle" fill="white">‚úÖ Response</text>
                    <text x="870" y="145" font-size="11" text-anchor="middle" fill="#fff">With sources cited</text>

                    <!-- Bottom section: Key benefits -->
                    <rect x="30" y="200" width="920" height="80" fill="#f0f0f0" stroke="#ddd" stroke-width="2" rx="8"/>
                    <text x="50" y="225" font-size="13" font-weight="bold" fill="#333">Key Benefits:</text>
                    <text x="50" y="245" font-size="12" fill="#666">‚úì Higher Accuracy  ‚úì Reduced Hallucinations  ‚úì Source Attribution  ‚úì Current Information</text>
                    <text x="50" y="265" font-size="12" fill="#666">‚úì Fact-based Responses  ‚úì Traceable Answers  ‚úì Domain-specific Knowledge</text>

                    <!-- Process description -->
                    <text x="600" y="420" font-size="13" font-weight="bold" text-anchor="middle" fill="#333">RAG Process Steps:</text>
                    <text x="600" y="445" font-size="12" text-anchor="middle" fill="#666">1. User submits query  ‚Üí  2. Retrieve relevant documents from knowledge base</text>
                    <text x="600" y="465" font-size="12" text-anchor="middle" fill="#666">3. Rank documents by relevance  ‚Üí  4. Pass context to LLM  ‚Üí  5. Generate accurate response with citations</text>

                    <!-- Dashed line showing data flow -->
                    <text x="600" y="520" font-size="11" text-anchor="middle" fill="#999" font-style="italic">Knowledge Base provides real-time data input to enhance response accuracy</text>
                </svg>
            </div>
        </div>

        <!-- Block/Component Tab -->
        <div id="component-tab" class="tab-content">
            <div class="schematic-container">
                <svg class="schematic-svg" viewBox="0 0 1200 700" xmlns="http://www.w3.org/2000/svg">
                    <!-- Define gradient and markers -->
                    <defs>
                        <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                        </linearGradient>
                        <marker id="arrow1" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#667eea" />
                        </marker>
                    </defs>

                    <!-- Title -->
                    <text x="600" y="35" font-size="28" font-weight="bold" text-anchor="middle" fill="#333">RAG Core Components Architecture</text>

                    <!-- User Input -->
                    <rect x="50" y="80" width="180" height="80" fill="#e3f2fd" stroke="#667eea" stroke-width="2" rx="8"/>
                    <text x="140" y="115" font-size="15" font-weight="bold" text-anchor="middle" fill="#1976d2">üë§ User Input</text>
                    <text x="140" y="140" font-size="12" text-anchor="middle" fill="#555">Query</text>

                    <!-- Arrow to Retrieval -->
                    <line x1="230" y1="120" x2="280" y2="120" stroke="#667eea" stroke-width="3" marker-end="url(#arrow1)"/>

                    <!-- Retrieval Engine (Top) -->
                    <rect x="280" y="60" width="200" height="120" fill="#fff3e0" stroke="#f57c00" stroke-width="3" rx="8"/>
                    <text x="380" y="90" font-size="16" font-weight="bold" text-anchor="middle" fill="#e65100">üîç Retrieval Engine</text>
                    <text x="380" y="115" font-size="12" text-anchor="middle" fill="#666">- Query Processing</text>
                    <text x="380" y="135" font-size="12" text-anchor="middle" fill="#666">- Document Search</text>
                    <text x="380" y="155" font-size="12" text-anchor="middle" fill="#666">- Vector Similarity</text>

                    <!-- Arrow down to Knowledge Base -->
                    <line x1="380" y1="180" x2="380" y2="240" stroke="#f57c00" stroke-width="3" stroke-dasharray="5,5" marker-end="url(#arrow1)"/>

                    <!-- Knowledge Base (Center) -->
                    <rect x="280" y="240" width="200" height="120" fill="#f0f4c3" stroke="#9ccc65" stroke-width="3" rx="8"/>
                    <text x="380" y="270" font-size="16" font-weight="bold" text-anchor="middle" fill="#558b2f">üìö Knowledge Base</text>
                    <text x="380" y="295" font-size="12" text-anchor="middle" fill="#666">- Indexed Documents</text>
                    <text x="380" y="315" font-size="12" text-anchor="middle" fill="#666">- Vector Database</text>
                    <text x="380" y="335" font-size="12" text-anchor="middle" fill="#666">- Embeddings</text>

                    <!-- Arrow from KB up to Ranking -->
                    <line x1="380" y1="240" x2="380" y2="200" stroke="#f57c00" stroke-width="3" stroke-dasharray="5,5" marker-end="url(#arrow1)"/>

                    <!-- Ranking System (Right) -->
                    <rect x="550" y="80" width="200" height="120" fill="#e8f5e9" stroke="#388e3c" stroke-width="3" rx="8"/>
                    <text x="650" y="110" font-size="16" font-weight="bold" text-anchor="middle" fill="#1b5e20">‚≠ê Ranking System</text>
                    <text x="650" y="135" font-size="12" text-anchor="middle" fill="#666">- Relevance Scoring</text>
                    <text x="650" y="155" font-size="12" text-anchor="middle" fill="#666">- Context Selection</text>
                    <text x="650" y="175" font-size="12" text-anchor="middle" fill="#666">- Top-K Filtering</text>

                    <!-- Arrow from Retrieval to Ranking -->
                    <line x1="480" y1="120" x2="550" y2="120" stroke="#667eea" stroke-width="3" marker-end="url(#arrow1)"/>

                    <!-- Arrow to LLM -->
                    <line x1="650" y1="200" x2="650" y2="260" stroke="#667eea" stroke-width="3" marker-end="url(#arrow1)"/>

                    <!-- LLM (Bottom Right) -->
                    <rect x="550" y="260" width="200" height="120" fill="#fce4ec" stroke="#c2185b" stroke-width="3" rx="8"/>
                    <text x="650" y="290" font-size="16" font-weight="bold" text-anchor="middle" fill="#880e4f">ü§ñ Language Model</text>
                    <text x="650" y="315" font-size="12" text-anchor="middle" fill="#666">- Context Awareness</text>
                    <text x="650" y="335" font-size="12" text-anchor="middle" fill="#666">- Response Generation</text>
                    <text x="650" y="355" font-size="12" text-anchor="middle" fill="#666">- Citation Tracking</text>

                    <!-- Arrow to Output -->
                    <line x1="650" y1="380" x2="650" y2="430" stroke="#667eea" stroke-width="3" marker-end="url(#arrow1)"/>

                    <!-- Output -->
                    <rect x="550" y="430" width="200" height="80" fill="url(#grad2)" stroke="#667eea" stroke-width="3" rx="8"/>
                    <text x="650" y="465" font-size="15" font-weight="bold" text-anchor="middle" fill="white">‚úÖ Output</text>
                    <text x="650" y="490" font-size="12" text-anchor="middle" fill="#fff">Answer + Sources</text>

                    <!-- Data Flow Connections -->
                    <!-- Retrieval to KB bidirectional flow -->
                    <path d="M 280 180 Q 200 210 280 240" fill="none" stroke="#f57c00" stroke-width="2" stroke-dasharray="5,5"/>
                    <path d="M 380 240 Q 450 210 480 120" fill="none" stroke="#f57c00" stroke-width="2" stroke-dasharray="5,5"/>

                    <!-- Component relationship labels -->
                    <text x="220" y="210" font-size="11" fill="#f57c00" font-weight="bold">retrieves</text>
                    <text x="500" y="235" font-size="11" fill="#f57c00" font-weight="bold">sends results</text>

                    <!-- Legend -->
                    <rect x="50" y="500" width="900" height="160" fill="#f5f5f5" stroke="#ddd" stroke-width="2" rx="8"/>
                    <text x="70" y="525" font-size="13" font-weight="bold" fill="#333">How RAG Core Components Work Together:</text>
                    
                    <text x="70" y="550" font-size="12" fill="#666"><tspan font-weight="bold">1. User Input:</tspan> User submits a query or question</text>
                    <text x="70" y="570" font-size="12" fill="#666"><tspan font-weight="bold">2. Retrieval Engine:</tspan> Searches knowledge base for relevant documents using vector similarity</text>
                    <text x="70" y="590" font-size="12" fill="#666"><tspan font-weight="bold">3. Ranking System:</tspan> Scores and filters results based on relevance to ensure quality</text>
                    <text x="70" y="610" font-size="12" fill="#666"><tspan font-weight="bold">4. Language Model:</tspan> Uses ranked documents as context to generate accurate, grounded responses</text>
                    <text x="70" y="630" font-size="12" fill="#666"><tspan font-weight="bold">5. Output:</tspan> Returns response with source citations for transparency and verification</text>
                </svg>
            </div>
        </div>

        <!-- Sequence Diagram Tab -->
        <div id="sequence-diagram-tab" class="tab-content">
            <div class="schematic-container">
                <svg class="schematic-svg" viewBox="0 0 1200 900" xmlns="http://www.w3.org/2000/svg">
                    <!-- Define gradients and markers -->
                    <defs>
                        <linearGradient id="grad-seq" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                        </linearGradient>
                        <marker id="arrow-seq" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#667eea" />
                        </marker>
                    </defs>

                    <!-- Title -->
                    <text x="600" y="35" font-size="28" font-weight="bold" text-anchor="middle" fill="#333">RAG Sequence Diagram</text>

                    <!-- Actors/Components -->
                    <!-- User -->
                    <rect x="50" y="80" width="100" height="50" fill="#e3f2fd" stroke="#667eea" stroke-width="2" rx="5"/>
                    <text x="100" y="110" font-size="13" font-weight="bold" text-anchor="middle" fill="#1976d2">üë§ User</text>

                    <!-- Lifelines -->
                    <line x1="100" y1="130" x2="100" y2="850" stroke="#667eea" stroke-width="1" stroke-dasharray="5,5"/>

                    <!-- Retrieval Engine -->
                    <rect x="250" y="80" width="120" height="50" fill="#fff3e0" stroke="#f57c00" stroke-width="2" rx="5"/>
                    <text x="310" y="110" font-size="12" font-weight="bold" text-anchor="middle" fill="#e65100">üîç Retrieval</text>
                    <line x1="310" y1="130" x2="310" y2="850" stroke="#f57c00" stroke-width="1" stroke-dasharray="5,5"/>

                    <!-- Knowledge Base -->
                    <rect x="450" y="80" width="120" height="50" fill="#f0f4c3" stroke="#9ccc65" stroke-width="2" rx="5"/>
                    <text x="510" y="110" font-size="12" font-weight="bold" text-anchor="middle" fill="#558b2f">üìö Knowledge Base</text>
                    <line x1="510" y1="130" x2="510" y2="850" stroke="#9ccc65" stroke-width="1" stroke-dasharray="5,5"/>

                    <!-- Ranking Engine -->
                    <rect x="650" y="80" width="120" height="50" fill="#e8f5e9" stroke="#388e3c" stroke-width="2" rx="5"/>
                    <text x="710" y="110" font-size="12" font-weight="bold" text-anchor="middle" fill="#1b5e20">‚≠ê Ranking</text>
                    <line x1="710" y1="130" x2="710" y2="850" stroke="#388e3c" stroke-width="1" stroke-dasharray="5,5"/>

                    <!-- LLM -->
                    <rect x="850" y="80" width="100" height="50" fill="#fce4ec" stroke="#c2185b" stroke-width="2" rx="5"/>
                    <text x="900" y="110" font-size="12" font-weight="bold" text-anchor="middle" fill="#880e4f">ü§ñ LLM</text>
                    <line x1="900" y1="130" x2="900" y2="850" stroke="#c2185b" stroke-width="1" stroke-dasharray="5,5"/>

                    <!-- Output -->
                    <rect x="1020" y="80" width="100" height="50" fill="url(#grad-seq)" stroke="#667eea" stroke-width="2" rx="5"/>
                    <text x="1070" y="110" font-size="12" font-weight="bold" text-anchor="middle" fill="white">‚úÖ Output</text>
                    <line x1="1070" y1="130" x2="1070" y2="850" stroke="#667eea" stroke-width="1" stroke-dasharray="5,5"/>

                    <!-- Sequence Steps -->
                    <!-- Step 1: User submits query -->
                    <line x1="100" y1="160" x2="310" y2="160" stroke="#667eea" stroke-width="2" marker-end="url(#arrow-seq)"/>
                    <text x="200" y="155" font-size="11" fill="#667eea" font-weight="bold">1. Submit Query</text>
                    <rect x="100" y="170" width="210" height="25" fill="#e3f2fd" stroke="#667eea" stroke-width="1" rx="3"/>
                    <text x="205" y="186" font-size="10" text-anchor="middle" fill="#1976d2">User enters question</text>

                    <!-- Step 2: Retrieval searches Knowledge Base -->
                    <line x1="310" y1="220" x2="510" y2="220" stroke="#f57c00" stroke-width="2" marker-end="url(#arrow-seq)"/>
                    <text x="405" y="215" font-size="11" fill="#f57c00" font-weight="bold">2. Search KB</text>
                    <rect x="310" y="230" width="200" height="25" fill="#fff3e0" stroke="#f57c00" stroke-width="1" rx="3"/>
                    <text x="410" y="246" font-size="10" text-anchor="middle" fill="#e65100">Vector similarity search</text>

                    <!-- Step 3: KB returns documents -->
                    <line x1="510" y1="280" x2="310" y2="280" stroke="#9ccc65" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrow-seq)"/>
                    <text x="405" y="275" font-size="11" fill="#9ccc65" font-weight="bold">3. Return Docs</text>
                    <rect x="310" y="290" width="200" height="25" fill="#f0f4c3" stroke="#9ccc65" stroke-width="1" rx="3"/>
                    <text x="410" y="306" font-size="10" text-anchor="middle" fill="#558b2f">Candidate documents</text>

                    <!-- Step 4: Pass to Ranking -->
                    <line x1="310" y1="340" x2="710" y2="340" stroke="#388e3c" stroke-width="2" marker-end="url(#arrow-seq)"/>
                    <text x="505" y="335" font-size="11" fill="#388e3c" font-weight="bold">4. Rank Documents</text>
                    <rect x="310" y="350" width="400" height="25" fill="#e8f5e9" stroke="#388e3c" stroke-width="1" rx="3"/>
                    <text x="510" y="366" font-size="10" text-anchor="middle" fill="#1b5e20">Score and filter by relevance</text>

                    <!-- Step 5: Return ranked results -->
                    <line x1="710" y1="400" x2="310" y2="400" stroke="#388e3c" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrow-seq)"/>
                    <text x="505" y="395" font-size="11" fill="#388e3c" font-weight="bold">5. Top-K Results</text>
                    <rect x="310" y="410" width="400" height="25" fill="#e8f5e9" stroke="#388e3c" stroke-width="1" rx="3"/>
                    <text x="510" y="426" font-size="10" text-anchor="middle" fill="#1b5e20">Most relevant documents selected</text>

                    <!-- Step 6: Pass query and context to LLM -->
                    <line x1="310" y1="460" x2="900" y2="460" stroke="#c2185b" stroke-width="2" marker-end="url(#arrow-seq)"/>
                    <text x="600" y="455" font-size="11" fill="#c2185b" font-weight="bold">6. Generate Response</text>
                    <rect x="310" y="470" width="590" height="25" fill="#fce4ec" stroke="#c2185b" stroke-width="1" rx="3"/>
                    <text x="605" y="486" font-size="10" text-anchor="middle" fill="#880e4f">Query + ranked documents as context</text>

                    <!-- Step 7: LLM processes and generates -->
                    <rect x="850" y="520" width="100" height="40" fill="#fff8e1" stroke="#c2185b" stroke-width="2" rx="5"/>
                    <text x="900" y="545" font-size="10" text-anchor="middle" fill="#880e4f">Processing...</text>

                    <!-- Step 8: Return response -->
                    <line x1="900" y1="600" x2="1070" y2="600" stroke="#667eea" stroke-width="2" marker-end="url(#arrow-seq)"/>
                    <text x="980" y="595" font-size="11" fill="#667eea" font-weight="bold">7. Final Response</text>
                    <rect x="900" y="610" width="170" height="25" fill="url(#grad-seq)" stroke="#667eea" stroke-width="1" rx="3"/>
                    <text x="985" y="626" font-size="10" text-anchor="middle" fill="white">With source citations</text>

                    <!-- Step 9: Return to User -->
                    <line x1="1070" y1="660" x2="100" y2="660" stroke="#667eea" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrow-seq)"/>
                    <text x="580" y="655" font-size="11" fill="#667eea" font-weight="bold">8. Display Answer</text>
                    <rect x="100" y="670" width="970" height="25" fill="#e3f2fd" stroke="#667eea" stroke-width="1" rx="3"/>
                    <text x="585" y="686" font-size="10" text-anchor="middle" fill="#1976d2">User receives accurate response with references</text>

                    <!-- Legend -->
                    <rect x="50" y="740" width="1100" height="120" fill="#f5f5f5" stroke="#ddd" stroke-width="2" rx="8"/>
                    <text x="70" y="765" font-size="13" font-weight="bold" fill="#333">Sequence Flow Explanation:</text>
                    <text x="70" y="790" font-size="11" fill="#666">
                        <tspan font-weight="bold">‚Üí</tspan> Synchronous call (waits for response)  |  
                        <tspan font-weight="bold" fill="#999">‚á¢</tspan> Asynchronous/Return message
                    </text>
                    <text x="70" y="810" font-size="11" fill="#666">
                        The sequence shows how RAG components interact: User query ‚Üí Retrieval searches KB ‚Üí Ranking filters ‚Üí LLM generates answer ‚Üí Output returned to user
                    </text>
                    <text x="70" y="830" font-size="11" fill="#666">
                        Each step is dependent on the previous one, ensuring that only relevant, high-quality documents inform the final response generation.
                    </text>
                </svg>
            </div>
        </div>

        <!-- Data Flow Diagram (DFD) Tab -->
        <div id="data-flow-tab" class="tab-content">
            <div class="schematic-container">
                <svg class="schematic-svg" viewBox="0 0 1200 850" xmlns="http://www.w3.org/2000/svg">
                    <!-- Define gradients and markers -->
                    <defs>
                        <linearGradient id="grad-dfd" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                        </linearGradient>
                        <marker id="arrow-dfd" markerWidth="15" markerHeight="15" refX="12" refY="7" orient="auto">
                            <polygon points="0 0, 15 7, 0 14" fill="#667eea" />
                        </marker>
                    </defs>

                    <!-- Title -->
                    <text x="600" y="40" font-size="28" font-weight="bold" text-anchor="middle" fill="#333">RAG Data Flow Diagram (DFD)</text>

                    <!-- EXTERNAL ENTITIES (Circles) -->
                    <!-- User Entity -->
                    <circle cx="100" cy="150" r="50" fill="#e3f2fd" stroke="#667eea" stroke-width="3"/>
                    <text x="100" y="145" font-size="13" font-weight="bold" text-anchor="middle" fill="#1976d2">üë§</text>
                    <text x="100" y="165" font-size="12" font-weight="bold" text-anchor="middle" fill="#667eea">User</text>

                    <!-- Knowledge Source Entity -->
                    <circle cx="1100" cy="150" r="50" fill="#fff3e0" stroke="#f57c00" stroke-width="3"/>
                    <text x="1100" y="145" font-size="13" font-weight="bold" text-anchor="middle" fill="#e65100">üìö</text>
                    <text x="1100" y="165" font-size="12" font-weight="bold" text-anchor="middle" fill="#f57c00">Knowledge</text>

                    <!-- PROCESSES (Rectangles) -->
                    <!-- Process 1: Query Input -->
                    <rect x="200" y="100" width="140" height="100" fill="#e3f2fd" stroke="#667eea" stroke-width="2" rx="5"/>
                    <text x="270" y="130" font-size="12" font-weight="bold" text-anchor="middle" fill="#1976d2">P1</text>
                    <line x1="200" y1="145" x2="340" y2="145" stroke="#667eea" stroke-width="1"/>
                    <text x="270" y="160" font-size="11" font-weight="bold" text-anchor="middle" fill="#555">Query Input</text>
                    <text x="270" y="180" font-size="10" text-anchor="middle" fill="#666">Processing</text>

                    <!-- Process 2: Retrieve & Rank -->
                    <rect x="420" y="100" width="140" height="100" fill="#fff3e0" stroke="#f57c00" stroke-width="2" rx="5"/>
                    <text x="490" y="130" font-size="12" font-weight="bold" text-anchor="middle" fill="#e65100">P2</text>
                    <line x1="420" y1="145" x2="560" y2="145" stroke="#f57c00" stroke-width="1"/>
                    <text x="490" y="160" font-size="11" font-weight="bold" text-anchor="middle" fill="#555">Retrieve &amp;</text>
                    <text x="490" y="180" font-size="11" font-weight="bold" text-anchor="middle" fill="#555">Rank Docs</text>

                    <!-- Process 3: Generate Response -->
                    <rect x="640" y="100" width="140" height="100" fill="#fce4ec" stroke="#c2185b" stroke-width="2" rx="5"/>
                    <text x="710" y="130" font-size="12" font-weight="bold" text-anchor="middle" fill="#880e4f">P3</text>
                    <line x1="640" y1="145" x2="780" y2="145" stroke="#c2185b" stroke-width="1"/>
                    <text x="710" y="160" font-size="11" font-weight="bold" text-anchor="middle" fill="#555">Generate</text>
                    <text x="710" y="180" font-size="11" font-weight="bold" text-anchor="middle" fill="#555">Response</text>

                    <!-- Process 4: Output Delivery -->
                    <rect x="860" y="100" width="140" height="100" fill="url(#grad-dfd)" stroke="#667eea" stroke-width="2" rx="5"/>
                    <text x="930" y="130" font-size="12" font-weight="bold" text-anchor="middle" fill="white">P4</text>
                    <line x1="860" y1="145" x2="1000" y2="145" stroke="#667eea" stroke-width="1"/>
                    <text x="930" y="160" font-size="11" font-weight="bold" text-anchor="middle" fill="white">Output</text>
                    <text x="930" y="180" font-size="11" font-weight="bold" text-anchor="middle" fill="white">Delivery</text>

                    <!-- DATA STORES (Parallel lines) -->
                    <!-- D1: Query Cache -->
                    <line x1="270" y1="260" x2="340" y2="260" stroke="#667eea" stroke-width="3"/>
                    <line x1="270" y1="310" x2="340" y2="310" stroke="#667eea" stroke-width="3"/>
                    <rect x="270" y="260" width="70" height="50" fill="none" stroke="#667eea" stroke-width="0"/>
                    <text x="305" y="290" font-size="11" font-weight="bold" text-anchor="middle" fill="#667eea">D1</text>
                    <text x="305" y="330" font-size="10" text-anchor="middle" fill="#667eea">Query Cache</text>

                    <!-- D2: Knowledge Base -->
                    <line x1="470" y1="260" x2="540" y2="260" stroke="#f57c00" stroke-width="3"/>
                    <line x1="470" y1="310" x2="540" y2="310" stroke="#f57c00" stroke-width="3"/>
                    <rect x="470" y="260" width="70" height="50" fill="none" stroke="#f57c00" stroke-width="0"/>
                    <text x="505" y="290" font-size="11" font-weight="bold" text-anchor="middle" fill="#f57c00">D2</text>
                    <text x="505" y="330" font-size="10" text-anchor="middle" fill="#f57c00">KB (Docs)</text>

                    <!-- D3: Embeddings -->
                    <line x1="680" y1="260" x2="750" y2="260" stroke="#388e3c" stroke-width="3"/>
                    <line x1="680" y1="310" x2="750" y2="310" stroke="#388e3c" stroke-width="3"/>
                    <rect x="680" y="260" width="70" height="50" fill="none" stroke="#388e3c" stroke-width="0"/>
                    <text x="715" y="290" font-size="11" font-weight="bold" text-anchor="middle" fill="#388e3c">D3</text>
                    <text x="715" y="330" font-size="10" text-anchor="middle" fill="#388e3c">Embeddings</text>

                    <!-- D4: Response Log -->
                    <line x1="890" y1="260" x2="960" y2="260" stroke="#c2185b" stroke-width="3"/>
                    <line x1="890" y1="310" x2="960" y2="310" stroke="#c2185b" stroke-width="3"/>
                    <rect x="890" y="260" width="70" height="50" fill="none" stroke="#c2185b" stroke-width="0"/>
                    <text x="925" y="290" font-size="11" font-weight="bold" text-anchor="middle" fill="#c2185b">D4</text>
                    <text x="925" y="330" font-size="10" text-anchor="middle" fill="#c2185b">Response Log</text>

                    <!-- DATA FLOWS (Labeled arrows) -->
                    <!-- User ‚Üí P1 -->
                    <line x1="150" y1="150" x2="200" y2="150" stroke="#667eea" stroke-width="2" marker-end="url(#arrow-dfd)"/>
                    <text x="170" y="140" font-size="10" fill="#667eea" font-weight="bold">1. Query</text>

                    <!-- P1 ‚Üí D1 -->
                    <line x1="270" y1="200" x2="305" y2="260" stroke="#667eea" stroke-width="2" marker-end="url(#arrow-dfd)"/>
                    <text x="285" y="225" font-size="10" fill="#667eea" font-weight="bold">store</text>

                    <!-- P1 ‚Üí P2 -->
                    <line x1="340" y1="150" x2="420" y2="150" stroke="#667eea" stroke-width="2" marker-end="url(#arrow-dfd)"/>
                    <text x="380" y="140" font-size="10" fill="#667eea" font-weight="bold">2. Encoded</text>

                    <!-- Knowledge Source ‚Üí P2 -->
                    <line x1="1050" y1="150" x2="560" y2="150" stroke="#f57c00" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrow-dfd)"/>
                    <text x="800" y="140" font-size="10" fill="#f57c00" font-weight="bold">KB Access</text>

                    <!-- P2 ‚Üî D2 -->
                    <line x1="490" y1="200" x2="505" y2="260" stroke="#f57c00" stroke-width="2" marker-end="url(#arrow-dfd)"/>
                    <text x="510" y="225" font-size="10" fill="#f57c00" font-weight="bold">read</text>

                    <!-- P2 ‚Üî D3 -->
                    <line x1="560" y1="150" x2="680" y2="285" stroke="#388e3c" stroke-width="2" marker-end="url(#arrow-dfd)"/>
                    <text x="620" y="210" font-size="10" fill="#388e3c" font-weight="bold">vector search</text>

                    <!-- P2 ‚Üí P3 -->
                    <line x1="560" y1="150" x2="640" y2="150" stroke="#667eea" stroke-width="2" marker-end="url(#arrow-dfd)"/>
                    <text x="600" y="140" font-size="10" fill="#667eea" font-weight="bold">3. Ranked</text>

                    <!-- P3 ‚Üí P4 -->
                    <line x1="780" y1="150" x2="860" y2="150" stroke="#667eea" stroke-width="2" marker-end="url(#arrow-dfd)"/>
                    <text x="820" y="140" font-size="10" fill="#667eea" font-weight="bold">4. Answer</text>

                    <!-- P4 ‚Üí D4 -->
                    <line x1="930" y1="200" x2="925" y2="260" stroke="#c2185b" stroke-width="2" marker-end="url(#arrow-dfd)"/>
                    <text x="940" y="225" font-size="10" fill="#c2185b" font-weight="bold">log</text>

                    <!-- P4 ‚Üí User -->
                    <line x1="860" y1="150" x2="150" y2="150" stroke="#667eea" stroke-width="2" marker-end="url(#arrow-dfd)"/>
                    <text x="500" y="165" font-size="10" fill="#667eea" font-weight="bold">5. Final Response + Sources</text>

                    <!-- Feedback loop -->
                    <path d="M 930 200 Q 950 400 200 200" stroke="#4caf50" stroke-width="2" fill="none" marker-end="url(#arrow-dfd)" stroke-dasharray="5,5"/>
                    <text x="550" y="420" font-size="10" fill="#4caf50" font-weight="bold">Feedback for Improvement</text>

                    <!-- LEGEND AND EXPLANATION -->
                    <rect x="50" y="370" width="1100" height="300" fill="#f9f9f9" stroke="#ddd" stroke-width="2" rx="8"/>
                    
                    <text x="70" y="395" font-size="13" font-weight="bold" fill="#333">DFD Components &amp; Data Flows:</text>

                    <!-- Components explanation -->
                    <g>
                        <text x="70" y="420" font-size="12" fill="#333" font-weight="bold">External Entities (Circles):</text>
                        <text x="90" y="440" font-size="11" fill="#666">üë§ User - Initiates queries and receives responses</text>
                        <text x="90" y="460" font-size="11" fill="#666">üìö Knowledge Source - External data repository providing documents</text>
                    </g>

                    <g>
                        <text x="70" y="490" font-size="12" fill="#333" font-weight="bold">Processes (Rectangles):</text>
                        <text x="90" y="510" font-size="11" fill="#666">P1: Query Input Processing - Encodes user query into vectors</text>
                        <text x="90" y="530" font-size="11" fill="#666">P2: Retrieve &amp; Rank Documents - Searches KB and ranks by relevance</text>
                        <text x="90" y="550" font-size="11" fill="#666">P3: Generate Response - LLM creates answer using context</text>
                        <text x="90" y="570" font-size="11" fill="#666">P4: Output Delivery - Formats and delivers response to user</text>
                    </g>

                    <g>
                        <text x="70" y="600" font-size="12" fill="#333" font-weight="bold">Data Stores (Parallel Lines):</text>
                        <text x="90" y="620" font-size="11" fill="#666">D1: Query Cache - Stores processed queries | D2: Knowledge Base - Document repository</text>
                        <text x="90" y="640" font-size="11" fill="#666">D3: Embeddings - Vector representations | D4: Response Log - Historical responses</text>
                    </g>

                    <text x="70" y="670" font-size="11" fill="#666">
                        <tspan font-weight="bold">Solid arrows</tspan> = Primary data flow | 
                        <tspan font-weight="bold" fill="#999">Dashed arrows</tspan> = External input or feedback
                    </text>
                </svg>
            </div>
        </div>

        <!-- Architecture Diagram Tab - Data Flow -->
        <div id="architecture-tab" class="tab-content">
            <div class="schematic-container">
                <svg class="schematic-svg" viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
                    <!-- Define gradients and markers -->
                    <defs>
                        <linearGradient id="grad-user" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="grad-kb" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#f57c00;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#ff9800;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="grad-llm" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#c2185b;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#e91e63;stop-opacity:1" />
                        </linearGradient>
                        <marker id="arrow-data" markerWidth="15" markerHeight="15" refX="12" refY="7" orient="auto">
                            <polygon points="0 0, 15 7, 0 14" fill="#667eea" />
                        </marker>
                        <marker id="arrow-feedback" markerWidth="15" markerHeight="15" refX="12" refY="7" orient="auto">
                            <polygon points="0 0, 15 7, 0 14" fill="#4caf50" />
                        </marker>
                    </defs>

                    <!-- Title -->
                    <text x="600" y="40" font-size="28" font-weight="bold" text-anchor="middle" fill="#333">RAG Data Flow Diagram</text>

                    <!-- USER INPUT -->
                    <rect x="50" y="80" width="160" height="90" fill="url(#grad-user)" stroke="#667eea" stroke-width="3" rx="8"/>
                    <text x="130" y="115" font-size="14" font-weight="bold" text-anchor="middle" fill="white">üë§ User Query</text>
                    <text x="130" y="135" font-size="11" text-anchor="middle" fill="#fff">Input: Question</text>
                    <text x="130" y="155" font-size="11" text-anchor="middle" fill="#fff">or Search Term</text>

                    <!-- Arrow: User Query ‚Üí Retrieval -->
                    <line x1="210" y1="125" x2="270" y2="125" stroke="#667eea" stroke-width="3" marker-end="url(#arrow-data)"/>
                    <text x="240" y="115" font-size="10" fill="#667eea" font-weight="bold">Query</text>

                    <!-- RETRIEVAL ENGINE -->
                    <rect x="270" y="80" width="160" height="90" fill="#fff3e0" stroke="#f57c00" stroke-width="3" rx="8"/>
                    <text x="350" y="110" font-size="14" font-weight="bold" text-anchor="middle" fill="#e65100">üîç Retrieval</text>
                    <text x="350" y="130" font-size="11" text-anchor="middle" fill="#666">Vector Search</text>
                    <text x="350" y="150" font-size="11" text-anchor="middle" fill="#666">Similarity Match</text>

                    <!-- Arrow: Retrieval ‚Üí Ranking -->
                    <line x1="430" y1="125" x2="490" y2="125" stroke="#667eea" stroke-width="3" marker-end="url(#arrow-data)"/>
                    <text x="460" y="115" font-size="10" fill="#667eea" font-weight="bold">Docs</text>

                    <!-- RANKING FILTER -->
                    <rect x="490" y="80" width="160" height="90" fill="#e8f5e9" stroke="#388e3c" stroke-width="3" rx="8"/>
                    <text x="570" y="110" font-size="14" font-weight="bold" text-anchor="middle" fill="#1b5e20">‚≠ê Ranking</text>
                    <text x="570" y="130" font-size="11" text-anchor="middle" fill="#666">Score & Filter</text>
                    <text x="570" y="150" font-size="11" text-anchor="middle" fill="#666">Top-K Selection</text>

                    <!-- Arrow: Ranking ‚Üí LLM -->
                    <line x1="650" y1="125" x2="710" y2="125" stroke="#667eea" stroke-width="3" marker-end="url(#arrow-data)"/>
                    <text x="680" y="115" font-size="10" fill="#667eea" font-weight="bold">Ranked</text>

                    <!-- LLM ENGINE -->
                    <rect x="710" y="80" width="160" height="90" fill="url(#grad-llm)" stroke="#c2185b" stroke-width="3" rx="8"/>
                    <text x="790" y="110" font-size="14" font-weight="bold" text-anchor="middle" fill="white">ü§ñ LLM</text>
                    <text x="790" y="130" font-size="11" text-anchor="middle" fill="#fff">Generate</text>
                    <text x="790" y="150" font-size="11" text-anchor="middle" fill="#fff">Response</text>

                    <!-- Arrow: LLM ‚Üí Output -->
                    <line x1="870" y1="125" x2="930" y2="125" stroke="#667eea" stroke-width="3" marker-end="url(#arrow-data)"/>
                    <text x="900" y="115" font-size="10" fill="#667eea" font-weight="bold">Output</text>

                    <!-- OUTPUT -->
                    <rect x="930" y="80" width="200" height="90" fill="#e3f2fd" stroke="#667eea" stroke-width="3" rx="8"/>
                    <text x="1030" y="110" font-size="14" font-weight="bold" text-anchor="middle" fill="#1976d2">‚úÖ Response</text>
                    <text x="1030" y="130" font-size="11" text-anchor="middle" fill="#555">Answer + Sources</text>
                    <text x="1030" y="150" font-size="11" text-anchor="middle" fill="#555">+ Citations</text>

                    <!-- KNOWLEDGE BASE - Upper Right -->
                    <rect x="930" y="240" width="200" height="110" fill="url(#grad-kb)" stroke="#f57c00" stroke-width="3" rx="8"/>
                    <text x="1030" y="275" font-size="14" font-weight="bold" text-anchor="middle" fill="white">üìö Knowledge</text>
                    <text x="1030" y="295" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Base</text>
                    <text x="1030" y="320" font-size="11" text-anchor="middle" fill="#fff">Documents</text>
                    <text x="1030" y="335" font-size="11" text-anchor="middle" fill="#fff">Embeddings</text>

                    <!-- Arrow: Knowledge Base ‚Üí Retrieval (dashed input) -->
                    <line x1="930" y1="280" x2="430" y2="180" stroke="#f57c00" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrow-data)"/>
                    <text x="700" y="220" font-size="10" fill="#f57c00" font-weight="bold">Data Source</text>

                    <!-- FEEDBACK LOOP -->
                    <!-- Arrow: Output ‚Üí Feedback Analysis -->
                    <line x1="1030" y1="170" x2="1030" y2="220" stroke="#4caf50" stroke-width="2" marker-end="url(#arrow-feedback)"/>

                    <!-- Feedback Box -->
                    <rect x="930" y="220" width="200" height="60" fill="#f1f8e9" stroke="#4caf50" stroke-width="2" rx="8"/>
                    <text x="1030" y="240" font-size="12" font-weight="bold" text-anchor="middle" fill="#2e7d32">üìä Feedback</text>
                    <text x="1030" y="258" font-size="10" text-anchor="middle" fill="#558b2f">Quality & Accuracy</text>
                    <text x="1030" y="273" font-size="10" text-anchor="middle" fill="#558b2f">Metrics</text>

                    <!-- Arrow: Feedback ‚Üí System Improvement (curved back) -->
                    <path d="M 930 250 Q 50 400 130 170" stroke="#4caf50" stroke-width="2" fill="none" marker-end="url(#arrow-feedback)"/>
                    <text x="450" y="380" font-size="10" fill="#4caf50" font-weight="bold">Continuous Improvement</text>

                    <!-- PROCESS STAGES -->
                    <!-- Stage 1: Retrieval -->
                    <g>
                        <rect x="270" y="240" width="160" height="80" fill="#fff8e1" stroke="#ffb300" stroke-width="2" rx="6"/>
                        <text x="350" y="265" font-size="12" font-weight="bold" text-anchor="middle" fill="#f57f17">Stage 1</text>
                        <text x="350" y="280" font-size="11" text-anchor="middle" fill="#666">Search &amp; Retrieve</text>
                        <text x="350" y="295" font-size="10" text-anchor="middle" fill="#666">Relevant docs</text>
                        <text x="350" y="309" font-size="10" text-anchor="middle" fill="#666">from KB</text>
                    </g>

                    <!-- Stage 2: Filtering -->
                    <g>
                        <rect x="490" y="240" width="160" height="80" fill="#e8f5e9" stroke="#66bb6a" stroke-width="2" rx="6"/>
                        <text x="570" y="265" font-size="12" font-weight="bold" text-anchor="middle" fill="#1b5e20">Stage 2</text>
                        <text x="570" y="280" font-size="11" text-anchor="middle" fill="#666">Rank &amp; Filter</text>
                        <text x="570" y="295" font-size="10" text-anchor="middle" fill="#666">Keep only most</text>
                        <text x="570" y="309" font-size="10" text-anchor="middle" fill="#666">relevant docs</text>
                    </g>

                    <!-- Stage 3: Generation -->
                    <g>
                        <rect x="710" y="240" width="160" height="80" fill="#fce4ec" stroke="#ec407a" stroke-width="2" rx="6"/>
                        <text x="790" y="265" font-size="12" font-weight="bold" text-anchor="middle" fill="#880e4f">Stage 3</text>
                        <text x="790" y="280" font-size="11" text-anchor="middle" fill="#666">Generate Answer</text>
                        <text x="790" y="295" font-size="10" text-anchor="middle" fill="#666">Using query +</text>
                        <text x="790" y="309" font-size="10" text-anchor="middle" fill="#666">context docs</text>
                    </g>

                    <!-- DATA FLOW DETAILS -->
                    <rect x="50" y="380" width="1100" height="140" fill="#f9f9f9" stroke="#ddd" stroke-width="2" rx="8"/>
                    <text x="70" y="405" font-size="13" font-weight="bold" fill="#333">Data Flow Details:</text>

                    <text x="70" y="430" font-size="11" fill="#555">
                        <tspan font-weight="bold">‚ë† User Query Flow:</tspan> Raw user input ‚Üí Encoded query vector
                    </text>
                    <text x="70" y="450" font-size="11" fill="#555">
                        <tspan font-weight="bold">‚ë° Retrieval Phase:</tspan> Query vector searches Knowledge Base ‚Üí Returns candidate documents
                    </text>
                    <text x="70" y="470" font-size="11" fill="#555">
                        <tspan font-weight="bold">‚ë¢ Ranking Phase:</tspan> Scores documents by relevance ‚Üí Selects top-K most relevant for context
                    </text>
                    <text x="70" y="490" font-size="11" fill="#555">
                        <tspan font-weight="bold">‚ë£ Generation Phase:</tspan> LLM processes query + ranked context ‚Üí Generates response with source citations
                    </text>
                    <text x="70" y="510" font-size="11" fill="#555">
                        <tspan font-weight="bold">‚ë§ Feedback Loop:</tspan> Tracks response quality ‚Üí Optimizes retrieval and ranking for future queries
                    </text>
                </svg>
            </div>
        </div>




    </div>


    <script>
        function showTab(tabName) {
            // Hide all tab content
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));
            
            // Remove active class from all buttons
            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(button => button.classList.remove('active'));
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
        }
    </script>
</body>
</html>
